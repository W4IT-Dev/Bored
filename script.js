document.querySelector(".item").focus();let offlineActivities=localStorage.offlineActivities?JSON.parse(localStorage.offlineActivities):[{activity:"Make a new friend",type:"social",participants:1,price:0,link:"",key:"1000000",accessibility:0},{activity:"Configure two-factor authentication on your accounts",type:"busywork",participants:1,price:0,link:"https://en.wikipedia.org/wiki/Multi-factor_authentication",key:"1572120",accessibility:0},{activity:"Play a video game",type:"recreational",participants:1,price:0,link:"",key:"5534113",accessibility:0},{activity:"Practice coding in your favorite lanaguage",type:"recreational",participants:1,price:0,link:"",key:"7096020",accessibility:.1},{activity:"Clean out your garage",type:"busywork",participants:1,price:0,link:"",key:"7023703",accessibility:.1},{activity:"Write a song",type:"music",participants:1,price:0,link:"",key:"5188388",accessibility:0},{activity:"Start a daily journal",type:"relaxation",participants:1,price:0,link:"",key:"8779876",accessibility:0},{activity:"Learn about a distributed version control system such as Git",type:"education",participants:1,price:0,link:"https://en.wikipedia.org/wiki/Distributed_version_control",key:"9303608",accessibility:0},{activity:"Create a meal plan for the coming week",type:"cooking",participants:1,price:0,link:"",key:"3491470",accessibility:0},{activity:"Make a to-do list for your week",type:"busywork",participants:1,price:0,link:"",key:"5920481",accessibility:.05},{activity:"Organize your music collection",type:"busywork",participants:1,price:0,link:"",key:"3151646",accessibility:0},{activity:"Create a cookbook with your favorite recipes",type:"cooking",participants:1,price:0,link:"",key:"1947449",accessibility:.05},{activity:"Make a bucket list",type:"busywork",participants:1,price:0,link:"",key:"2735499",accessibility:0}];const typeSel=document.querySelector("#typeSel"),priceSel=document.querySelector("#priceSel"),accSel=document.querySelector("#accSel"),partSel=document.querySelector("#partSel"),result=document.querySelector("#result"),resultActivity=document.querySelector("#activity-result"),resultInfo=document.querySelector("#result-info"),type=document.querySelector("#type"),priceRange=document.querySelector("#priceRange"),accRange=document.querySelector("#accRange"),partRange=document.querySelector("#partRange"),priceRangeValue=document.querySelector("#priceRangeValue"),accRangeValue=document.querySelector("#accRangeValue"),partRangeValue=document.querySelector("#partRangeValue"),adContainer=document.querySelector(".ad-container");function nav(e,t){const i=document.activeElement,r=document.querySelectorAll(t);const a=r[[...r].indexOf(i)+e];if(!a)return console.log("No nav element.");a.focus(),a&&a.classList.contains("canFocusWithin")&&!a.classList.contains("ad-container")&&a.parentNode.classList.add("focus-within"),i.classList.contains("canFocusWithin")&&i.parentNode.classList.remove("focus-within")}getKaiAd({publisher:"fe2d9134-74be-48d8-83b9-96f6d803efef",app:"bored",test:1,onerror:e=>console.error("Error getting ad:",e),onready:e=>{e.call("display")}}),window.addEventListener("beforeunload",(t=>{e.preventDefault()})),document.addEventListener("keydown",(e=>{if("#"==e.key)return window.open("/about.html");if("Enter"===e.key&&!document.activeElement.id.includes("gen"))return document.activeElement.lastElementChild.focus();if("ArrowDown"===e.key&&nav(1,".item"),"ArrowUp"===e.key&&nav(-1,".item"),"Enter"===e.key){const r=`https://www.boredapi.com/api/activity?type=${typeSel.value}${priceSel.value}${accSel.value}&participants=${partSel.value}`;if("randomgen"===document.activeElement.id)return navigator.onLine?void fetch("https://www.boredapi.com/api/activity").then((e=>{if(!e.ok)throw alert("Network response was not ok"),new Error("Network response was not ok");return e.json()})).then((e=>{t(e)})).catch((e=>{alert("There was a problem with the fetch operation: "+e)})):t(offlineActivities[Math.floor(Math.random()*offlineActivities.length)]);if(!navigator.onLine){let a=offlineActivities;if(0!==typeSel.selectedIndex&&(a=a.filter((e=>e.type===typeSel.value))),0!==priceSel.selectedIndex)if("&price=0"==priceSel.value)a=a.filter((e=>0===e.price));else{const c=priceSel.value.match(/(?:&minprice=)([^&]+)/),n=priceSel.value.match(/(?:&maxprice=)([^&]+)/),o=c?parseFloat(c[1]):0,l=n?parseFloat(n[1]):0;a=a.filter((e=>e.price>=o&&e.price<=l))}if(0!==accSel.selectedIndex)if("&accessibility=0"==accSel.value)a=a.filter((e=>0===e.accessibility));else{const s=accSel.value.match(/(?:&minaccessibility=)([^&]+)/),u=accSel.value.match(/(?:&maxaccessibility=)([^&]+)/),p=s?parseFloat(s[1]):0,y=u?parseFloat(u[1]):0;a=a.filter((e=>e.accessibility>=p&&e.accessibility<=y))}return 0!==partSel.selectedIndex&&(a=a.filter((e=>e.participants===Math.floor(partSel.value)))),void t(a[Math.floor(Math.random()*a.length)])}function t(e){if(result.style.display="block",null==e)return resultActivity.innerText="Nothing found",resultInfo.style.display="none",void i();resultActivity.innerText=e.activity||"Nothing found",e.activity?resultInfo.style.display="block":resultInfo.style.display="none",navigator.onLine&&null==offlineActivities.find((t=>t.key===e.key))&&(offlineActivities.unshift(e),localStorage.offlineActivities=JSON.stringify(offlineActivities)),type.innerText="Type: "+e.type,priceRange.value=10*e.price,accRange.value=10*e.accessibility,partRange.value=e.participants,priceRangeValue.innerText=function(e){if(0===e)return"Free";if(e>=.5)return"Expensive";if(e>=.3)return"Affordable";if(e>=0)return"Cheap"}(e.price),accRangeValue.innerText=function(e){if(0===e)return"Accessible";if(e>=.8)return"Hardly accessible";if(e>=.6)return"Moderately accessible";if(.3===e)return"Fairly accessible";if(e>=0)return"Easily accessible"}(e.accessibility),partRangeValue.innerText=e.participants,i()}function i(){window.scrollTo({top:resultActivity.offsetTop,behavior:"smooth"})}fetch(r).then((e=>{if(!e.ok)throw alert("Network response was not ok"),new Error("Network response was not ok");return e.json()})).then((e=>{t(e)})).catch((e=>{alert("There was a problem with the fetch operation:",e)}))}})),window.onerror=function(e,t,i,r,a){return console.error("Error Message: "+e),console.error("Source: "+t),console.error("Line Number: "+i),console.error("Column Number: "+r),a&&console.error("Error Object:",a),!0};const allSelectElems=document.querySelectorAll("select");for(let e=0;e<allSelectElems.length;e++)allSelectElems[e].addEventListener("blur",(()=>{allSelectElems[e].parentElement.focus()}));